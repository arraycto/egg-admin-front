{"version":3,"file":"js/8.js","sources":["webpack:///./src/views/upms/user/index.vue?c2db","webpack:///./src/views/upms/user/index.vue?0c95","webpack:///./src/api/sys/dept.js","webpack:///./src/api/sys/role.js","webpack:///./src/api/sys/user.js","webpack:///./src/views/upms/user/index.vue","webpack:///./src/views/upms/user/index.vue?70fc","webpack:///./src/views/upms/user/index.vue?9a62","webpack:///./src/views/upms/user/option.js"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport crudMixin from \"@/mixins/crud\";\nimport { tableOption } from \"./option\";\nimport { getList, create, update, remove } from \"@/api/sys/user\";\nimport { getList as getRoleList } from \"@/api/sys/role\";\nimport { getTree as getDeptTree } from \"@/api/sys/dept\";\nexport default {\n  name: \"upms-user\",\n  mixins: [crudMixin],\n  data: function data() {\n    return {\n      crudOption: {\n        getList: getList,\n        create: create,\n        update: update,\n        remove: remove\n      },\n      tableOption: tableOption,\n      roleList: [],\n      deptTree: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    getRoleList().then(function (res) {\n      _this.roleList = res.data;\n    });\n    getDeptTree().then(function (res) {\n      _this.deptTree = res.data;\n    });\n  }\n};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"d2-container\",\n    [\n      _c(\"avue-crud\", {\n        ref: \"crud\",\n        attrs: {\n          page: _vm.page,\n          \"table-loading\": _vm.tableLoading,\n          option: _vm.tableOption,\n          data: _vm.tableData\n        },\n        on: {\n          \"current-change\": _vm.pageCurrentChange,\n          \"size-change\": _vm.pageSizeChange,\n          \"search-change\": _vm.searchChange,\n          \"search-reset\": _vm.searchReset,\n          \"refresh-change\": _vm.getDataList,\n          \"selection-change\": _vm.selectionChange,\n          \"sort-change\": _vm.sortChange,\n          \"row-save\": _vm.handleSave,\n          \"row-update\": _vm.handleUpdate,\n          \"row-del\": _vm.rowDel\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"deptId\",\n            fn: function(ref) {\n              var row = ref.row\n              return [_c(\"span\", [_vm._v(_vm._s(row.dept && row.dept.name))])]\n            }\n          },\n          {\n            key: \"deptIdForm\",\n            fn: function(ref) {\n              var row = ref.row\n              return [\n                _c(\"avue-input-tree\", {\n                  attrs: {\n                    placeholder: \"请选择上级部门\",\n                    dic: _vm.deptTree,\n                    props: { label: \"name\", value: \"_id\" }\n                  },\n                  model: {\n                    value: row.deptId,\n                    callback: function($$v) {\n                      _vm.$set(row, \"deptId\", $$v)\n                    },\n                    expression: \"row.deptId\"\n                  }\n                })\n              ]\n            }\n          },\n          {\n            key: \"roleIds\",\n            fn: function(ref) {\n              var row = ref.row\n              return _vm._l(row.roles, function(item) {\n                return _c(\"el-tag\", { key: item._id }, [\n                  _vm._v(_vm._s(item.name))\n                ])\n              })\n            }\n          },\n          {\n            key: \"roleIdsForm\",\n            fn: function(ref) {\n              var row = ref.row\n              return [\n                _c(\n                  \"el-select\",\n                  {\n                    attrs: { multiple: \"\" },\n                    model: {\n                      value: row.roleIds,\n                      callback: function($$v) {\n                        _vm.$set(row, \"roleIds\", $$v)\n                      },\n                      expression: \"row.roleIds\"\n                    }\n                  },\n                  _vm._l(_vm.roleList, function(item) {\n                    return _c(\"el-option\", {\n                      key: item._id,\n                      attrs: { label: item.name, value: item._id }\n                    })\n                  }),\n                  1\n                )\n              ]\n            }\n          }\n        ]),\n        model: {\n          value: _vm.formData,\n          callback: function($$v) {\n            _vm.formData = $$v\n          },\n          expression: \"formData\"\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import request from \"@/libs/axios\";\nexport function getList(params) {\n  return request({\n    url: \"/dept\",\n    params: params\n  });\n}\nexport function getTree(params) {\n  return request({\n    url: \"/dept/tree/get\",\n    params: params\n  });\n}\nexport function getInfo(id) {\n  return request({\n    url: \"/dept/\" + id\n  });\n}\nexport function create(data) {\n  return request({\n    url: \"/dept\",\n    method: \"post\",\n    data: data\n  });\n}\nexport function update(id, data) {\n  return request({\n    url: \"/dept/\" + id,\n    method: \"put\",\n    data: data\n  });\n}\nexport function remove(id) {\n  return request({\n    url: \"/dept/\" + id,\n    method: \"delete\"\n  });\n}","import request from \"@/libs/axios\"; // 获取列表\n\nexport function getList(params) {\n  return request({\n    url: \"/role\",\n    params: params\n  });\n} // 获取单条信息\n\nexport function getInfo(id) {\n  return request({\n    url: \"/role/\".concat(id)\n  });\n} // 新增\n\nexport function create(data) {\n  return request({\n    url: \"/role\",\n    method: \"post\",\n    data: data\n  });\n} // 修改\n\nexport function update(id, data) {\n  return request({\n    url: \"/role/\" + id,\n    method: \"put\",\n    data: data\n  });\n} // 删除\n\nexport function remove(id) {\n  return request({\n    url: \"/role/\".concat(id),\n    method: \"delete\"\n  });\n}","import request from \"@/libs/axios\"; // 获取列表\n\nexport function getList(params) {\n  return request({\n    url: \"/user\",\n    params: params\n  });\n} // 获取单条信息\n\nexport function getInfo(id) {\n  return request({\n    url: \"/user/\" + id\n  });\n} // 新增\n\nexport function create(data) {\n  return request({\n    url: \"/user\",\n    method: \"post\",\n    data: data\n  });\n} // 修改\n\nexport function update(id, data) {\n  return request({\n    url: \"/user/\" + id,\n    method: \"put\",\n    data: data\n  });\n} // 删除\n\nexport function remove(id) {\n  return request({\n    url: \"/user/\" + id,\n    method: \"delete\"\n  });\n}","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=167c049c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/github/workspace/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('167c049c')) {\n      api.createRecord('167c049c', component.options)\n    } else {\n      api.reload('167c049c', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=167c049c&\", function () {\n      api.rerender('167c049c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/upms/user/index.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"4f7348be-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=167c049c&\"","export var tableOption = {\n  rowKey: \"_id\",\n  align: \"center\",\n  index: true,\n  searchMenuSpan: 6,\n  column: [{\n    label: \"用户名\",\n    prop: \"username\",\n    search: true,\n    rules: [{\n      required: true,\n      message: \"请输入用户名\",\n      trigger: \"change\"\n    }]\n  }, {\n    label: \"密码\",\n    prop: \"password\",\n    type: \"password\",\n    hide: true,\n    editDisplay: false,\n    rules: [{\n      required: true,\n      message: \"请输入密码\",\n      trigger: \"change\"\n    }]\n  }, {\n    label: \"部门\",\n    prop: \"deptId\",\n    type: \"tree\",\n    slot: true,\n    formslot: true\n  }, {\n    label: \"角色\",\n    prop: \"roleIds\",\n    slot: true,\n    formslot: true\n  }, {\n    label: \"真实姓名\",\n    prop: \"realName\"\n  }, {\n    label: \"性别\",\n    prop: \"gender\",\n    type: \"select\",\n    dicUrl: \"/dict/type/gender\"\n  }, {\n    label: \"邮箱\",\n    prop: \"email\"\n  }, {\n    label: \"手机号\",\n    prop: \"mobile\"\n  }, {\n    label: \"状态\",\n    prop: \"status\",\n    type: \"switch\",\n    value: \"1\",\n    dicData: [{\n      label: \"禁用\",\n      value: \"0\"\n    }, {\n      label: \"启用\",\n      value: \"1\"\n    }]\n  }]\n};"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}